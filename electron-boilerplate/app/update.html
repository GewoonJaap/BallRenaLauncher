<html>
<head>
        <link rel="stylesheet" href="./assets/css/update.css">   
        <link href="https://fonts.googleapis.com/css?family=Ubuntu" rel="stylesheet">
        <title>BallRena Launcher | Updater</title>
</head>
    <body>
           <div id="Update">
                   <img id="logo" src="./assets/img/BallRenaLogo.png"></img><br>
                <p2 id="maintext">Searching for updates...</p2>
               </div>
       

       <script>
            
            const loggerupdate = require('./assets/js/loggerutil.js')('%c[Updater]', 'color: #7289da; font-weight: bold');
            const { ipcRenderer } = require('electron');
            ipcRenderer.on('message', function (event, text) {
            loggerupdate.log(text);
            console.log(text);
              document.getElementById('maintext').innerHTML = text;
            });
            </script>
            <script>
                        var home = require("os").homedir();
                        var mkdirp = require('mkdirp');
                        mkdirp(home+ '/Documents/BallRena/Game', function (err) {
                        if (err) console.error(err)
                        else console.log('BallRena Game folder made');
});
mkdirp(home+ '/Documents/BallRena/Updates', function (err) {
                        if (err) console.error(err)
                        else console.log('BallRena Update made');
});
            </script>

            <script>
            const unhandled = require('electron-unhandled');
            const {openNewGitHubIssue, debugInfo} = require('electron-util');

            unhandled({
	                reportButton: error => {
		            openNewGitHubIssue({
			        user: 'GewoonJaap',
			        repo: 'BallRenaLauncherDownloads',
			        body: `\`\`\`\n${error.stack}\n\`\`\`\n\n---\n\n${debugInfo()}`
		});
	}
});
            </script>
        
    </body>
</html>