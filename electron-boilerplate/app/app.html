<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>BallRena Launcher | Welcome</title>
</head>
<body>
  <div id="app" class="container" style="display: none;">
    <h1 id="greet"></h1>
    <p>
      Welcome to <a href="http://electron.atom.io" class="js-external-link">Electron</a> app running on this <strong id="os"></strong> machine.
    </p>
    <p>
      App author: <strong id="author"></strong>
    </p>
    <p>
      Environment: <strong id="env"></strong>
    </p>
    <p>
      Electron version: <strong id="electron-version"></strong>
      <a href="./login.html">Login</a>
    </p>
    <p id="UUIDText">
      API UUID: NONE
    </p>
  </div>

  <script src="app.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.2.0/socket.io.js"></script>
<script>
  var socket = io('https://ballrenatest.glitch.me/');
  socket.on('connect', function(){
    console.log("connected!");
  });
  socket.on('UUID', function(data) {
        console.log(data.message);
       var socketinfo = JSON.parse(data.message)
        document.getElementById("UUIDText").innerHTML = "UUID:<strong>" + socketinfo.UUID + "</strong><br> SocketID:<strong>" + socketinfo.SocketID + "</strong><br> Online:<strong>" + socketinfo.Online + "</strong>";
      })
  socket.on('event', function(data){});
  socket.on('disconnect', function(){});
</script>
<script src="./assets/js/core.js"></script>
<script>
    const electron = require('electron');
    const loggermain = require('./assets/js/loggerutil.js')('%c[Main]', 'color: #7289da; font-weight: bold');
    //Open login screen
    const BrowserWindow = electron.remote.BrowserWindow;
    let win = new BrowserWindow({ titleBarStyle: 'default', width: 800, height: 600, frame: false, backgroundColor: '#2e2c29' , title:"BallRena Launcher | Login" })
    loggermain.log("Booting up.....");
    win.loadURL(`file://${__dirname}/login.html`);
    //Close windows
    var window = remote.getCurrentWindow();
    window.close();
    </script>
</body>
</html>
